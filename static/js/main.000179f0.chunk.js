(this["webpackJsonpgoogle-calendar-clone"]=this["webpackJsonpgoogle-calendar-clone"]||[]).push([[0],{20:function(t,e,n){"use strict";n.r(e),n.d(e,"INCREMENT",(function(){return a})),n.d(e,"DECREMENT",(function(){return c})),n.d(e,"ADDEVENT",(function(){return r})),n.d(e,"DELETEEVENT",(function(){return o})),n.d(e,"CHANGE",(function(){return u}));var a="INCREMENT",c="DECREMENT",r="ADDEVENT",o="DELETEEVENT",u="CHANGE"},28:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e),n.d(e,"loadState",(function(){return a})),n.d(e,"saveState",(function(){return c}));var a=function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return}},c=function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){}}},35:function(t,e,n){"use strict";n.r(e);var a=n(9),c=n.n(a),r=n(0),o=n(3),u=n(14),i=n(15),s=n(12),l=(n(28),n(1)),d=function(t){var e=t.year,n=t.month,a=t.addMonth,c=t.substractMonth,u=t.changeDate,i=Object(o.f)(),d=i.location.pathname.split("/"),h=Object(s.a)(d,3),b=h[1],j=h[2];return b=Number(b),j=Number(j),Object(r.useEffect)((function(){n!==j+1&&n!==j-1&&u(b,j)}),[b,j,u]),Object(r.useEffect)((function(){n!==j+1&&n!==j-1||i.push("/".concat(e,"/").concat(n))}),[e,n,i]),Object(l.jsxs)("nav",{children:[Object(l.jsxs)("button",{onClick:c,children:["<"," "]}),Object(l.jsxs)("button",{onClick:a,children:[" ",">"," "]}),Object(l.jsx)("h2",{children:new Date(e,n-1,1).toLocaleString("default",{month:"long"})})]})},h=(n(32),function(t){var e=t.id,n=t.className,a=t.PortalLauncher,c=t.deleteEvent,r=t.events;return Object(l.jsxs)("div",{id:e,className:"".concat(n," blockInCalendar"),onClick:function(t){"BUTTON"===t.target.tagName?c(e,t.target.parentElement.attributes.id.nodeValue):a(e)},children:[Object(l.jsx)("small",{children:n}),Object(l.jsx)("p",{children:e}),Object(l.jsx)("ul",{children:r[e]&&r[e].map((function(t,e){return Object(l.jsxs)("li",{id:e,children:[" ",t.title," ",Object(l.jsx)("button",{children:"x"})," "]},e)}))})]})}),b=["sun","mon","tue","wed","thu","fri","sat"],j=(n(33),function(t,e){var n=t.target[1].value.split("-"),a=n[0],c=Number(n[1]),r=Number(n[2]),o=t.target[0].value;e(a.slice(2,4),c,r,o)}),E=function(t){var e=t.isOpen,n=t.PortalCloser,a=t.addEvent,r=t.date,o=r.day,u=r.year,i=r.month;return i<10&&(i="0"+i),o<10&&(o="0"+o),e?c.a.createPortal(Object(l.jsxs)("div",{className:"Portal",children:[Object(l.jsx)("button",{onClick:n,children:"x"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log(t.target[0].value),j(t,a),n()},children:[Object(l.jsx)("input",{type:"text",name:"",id:"title",placeholder:"Add title",autoFocus:!0,required:!0}),Object(l.jsx)("input",{type:"date",name:"",id:"date",defaultValue:"".concat(u,"-").concat(i,"-").concat(o)}),Object(l.jsx)("input",{type:"submit",id:"save",value:"save"})]})]}),document.getElementById("app")):null},f=function(t){for(var e=t.match.params,n=e.month,a=e.year,c=t.events,o=t.addEvent,u=t.deleteEvent,i=new Date(a,n,0).getDate(),d=new Date(a,n-1,1).getDay(),j=[],f=a.slice(2,4),m=(c[f]||[])[n]||[],O=function(t,e){u(f,n,t,e)},v=Object(r.useState)(!1),p=Object(s.a)(v,2),N=p[0],y=p[1],g=Object(r.useState)(0),x=Object(s.a)(g,2),D=x[0],T=x[1],C=function(t){y(!0),T(t)},S=1;S<=i;S++){var M=b[d];j.push(Object(l.jsx)(h,{id:S,className:M,PortalLauncher:C,events:m,deleteEvent:O},S)),++d>6&&(d=0)}return Object(l.jsxs)("div",{className:"calendar",children:[Object(l.jsx)(E,{PortalCloser:function(){y(!1)},isOpen:N,addEvent:o,date:{day:D,year:a,month:n}}),j]})},m=n(8),O=n(36),v=n(34),p=v.loadState,N=v.saveState,y=n(20),g=y.INCREMENT,x=y.DECREMENT,D=y.CHANGE,T=y.ADDEVENT,C=y.DELETEEVENT,S=new Date,M=p(),V={year:S.getFullYear(),month:S.getMonth()+1},A=O.combineReducers({date:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.year,c=e.month;switch(n){case g:return 12===t.month?{year:t.year+1,month:1}:Object(m.a)(Object(m.a)({},t),{},{month:t.month+1});case x:return 1===t.month?{year:t.year-1,month:12}:Object(m.a)(Object(m.a)({},t),{},{month:t.month-1});case D:return{year:a,month:c};default:return t}},events:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.data,c=(a=void 0===a?{}:a).year,r=a.month,o=a.day,u=a.title,i=a.id;if(n===T){var s=JSON.stringify(t);return(s=JSON.parse(s))[c]=s[c]||[],s[c][r]=s[c][r]||[],s[c][r][o]=s[c][r][o]||[],s[c][r][o].push({title:u}),console.log(s),s}if(n===C){var l=JSON.stringify(t);return(l=JSON.parse(l))[c][r][o].splice(i,1),l}return t}}),I=O.createStore(A,Object(m.a)(Object(m.a)({},M),{},{date:V}));I.subscribe((function(){N(I.getState())}));var R=I,w=n(20),J=w.INCREMENT,k=w.DECREMENT,L=w.CHANGE,P=w.ADDEVENT,G=w.DELETEEVENT,H=function(){var t=R.getState().date,e=t.year,n=t.month,a=Object(i.b)((function(t){var e=t.date;return{month:e.month,year:e.year}}),(function(t){return{addMonth:function(){t({type:J})},substractMonth:function(){t({type:k})},changeDate:function(e,n){t(function(t,e){return{type:L,month:Number(e),year:Number(t)}}(e,n))}}}))(d),c=Object(i.b)((function(t){return{events:t.events}}),(function(t){return{addEvent:function(e,n,a,c){t(function(t,e,n,a){return{type:P,data:{year:t,month:e,day:n,title:a}}}(e,n,a,c))},deleteEvent:function(e,n,a,c){t(function(t,e,n,a){return{type:G,data:{year:t,month:e,day:n,title:" ",id:a}}}(e,n,a,c))}}}))(f);return Object(l.jsx)(i.a,{store:R,children:Object(l.jsxs)(u.a,{basename:"/google-calendar-clone",children:[Object(l.jsx)(a,{}),Object(l.jsxs)(o.b,{exact:!0,path:"/",children:[" ",Object(l.jsx)(o.a,{to:"/".concat(e,"/").concat(n)})]}),Object(l.jsx)(o.b,{path:"/:year/:month",component:c})]})})};c.a.render(Object(l.jsx)(H,{}),document.getElementById("app"))}},[[35,1,2]]]);
//# sourceMappingURL=main.000179f0.chunk.js.map